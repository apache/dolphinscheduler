[{"processDefinitionConnects":"[{\"endPointSourceId\":\"tasks-71510\",\"endPointTargetId\":\"tasks-24315\"},{\"endPointSourceId\":\"tasks-34109\",\"endPointTargetId\":\"tasks-71510\"}]","processDefinitionJson":"{\"tenantId\":18,\"globalParams\":[{\"prop\":\"port\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"8098\"},{\"prop\":\"keyword\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"release\"},{\"prop\":\"java8_path\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"/Library/Java/JavaVirtualMachines/jdk1.8.0_291.jdk/Contents/Home\"},{\"prop\":\"folder\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"/opt/repo/spring-boot-vuejs\"}],\"tasks\":[{\"conditionResult\":{\"successNode\":[\"\"],\"failedNode\":[\"\"]},\"description\":\"\",\"runFlag\":\"NORMAL\",\"type\":\"SHELL\",\"params\":{\"rawScript\":\"pwd\\ncd ${project_folder}\\n\\n# see previous releases\\nfind /opt/repo/spring-boot-vuejs/backend/target -iname '*${keyword}*'\",\"localParams\":[{\"prop\":\"keyword\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"${keyword}\"},{\"prop\":\"project_folder\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"${folder}\"}],\"resourceList\":[]},\"timeout\":{\"enable\":false,\"strategy\":\"\"},\"maxRetryTimes\":\"0\",\"taskInstancePriority\":\"MEDIUM\",\"name\":\"display available versions\",\"dependence\":{},\"retryInterval\":\"1\",\"preTasks\":[\"kill process on port\"],\"id\":\"tasks-71510\",\"workerGroup\":\"default\"},{\"conditionResult\":{\"successNode\":[\"\"],\"failedNode\":[\"\"]},\"description\":\"\",\"runFlag\":\"NORMAL\",\"type\":\"SHELL\",\"params\":{\"rawScript\":\"pwd\\ncd ${project_folder}\\n\\nJAVA_HOME=${java8_path}\\nexport JAVA_HOME;\\necho $JAVA_HOME\\n\\n# fill in desired version to roll back to previous release\\necho START\\nnohup java -Djava.security.egd=file:/dev/./urandom -jar ./backend/target/backend-1.0.0-RELEASE.jar --server.port=${port_number} > buildres_production.txt 2>&1 &\\necho END\",\"localParams\":[{\"prop\":\"port_number\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"${port}\"},{\"prop\":\"project_folder\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"${folder}\"},{\"prop\":\"java8_path\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"${java8_path}\"}],\"resourceList\":[]},\"timeout\":{\"enable\":false,\"strategy\":\"\"},\"maxRetryTimes\":\"0\",\"taskInstancePriority\":\"MEDIUM\",\"name\":\"roll back\",\"dependence\":{},\"retryInterval\":\"1\",\"preTasks\":[\"display available versions\"],\"id\":\"tasks-24315\",\"workerGroup\":\"default\"},{\"conditionResult\":{\"successNode\":[\"\"],\"failedNode\":[\"\"]},\"description\":\"\",\"runFlag\":\"NORMAL\",\"type\":\"SHELL\",\"params\":{\"rawScript\":\"pwd\\ncd ${project_folder}\\n\\nif [[ $(lsof -ti:${port_number} | wc -l) -gt 0 ]]; \\n\\tthen \\n    \\techo process found\\n        sudo kill -9 $(lsof -ti:${port_number}); \\n    fi\",\"localParams\":[{\"prop\":\"port_number\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"${port}\"},{\"prop\":\"project_folder\",\"direct\":\"IN\",\"type\":\"VARCHAR\",\"value\":\"${folder}\"}],\"resourceList\":[]},\"timeout\":{\"enable\":false,\"strategy\":\"\"},\"maxRetryTimes\":\"0\",\"taskInstancePriority\":\"MEDIUM\",\"name\":\"kill process on port\",\"dependence\":{},\"retryInterval\":\"1\",\"preTasks\":[],\"id\":\"tasks-34109\",\"workerGroup\":\"default\"}],\"timeout\":0}","processDefinitionLocations":"{\"tasks-71510\":{\"name\":\"display available versions\",\"targetarr\":\"tasks-34109\",\"nodenumber\":\"0\",\"x\":510,\"y\":120},\"tasks-24315\":{\"name\":\"roll back\",\"targetarr\":\"tasks-71510\",\"nodenumber\":\"0\",\"x\":680,\"y\":120},\"tasks-34109\":{\"name\":\"kill process on port\",\"targetarr\":\"\",\"nodenumber\":\"0\",\"x\":340,\"y\":120}}","processDefinitionName":"rollback","projectName":"test_project"}]