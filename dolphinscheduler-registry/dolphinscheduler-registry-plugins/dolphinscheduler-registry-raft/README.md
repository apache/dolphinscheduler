# Introduction

This is a registration plugin implemented with the raft algorithm, and the nodes in the cluster will participate in the election as nodes of the raft

# How to use

If you want to set the registry center as raft, 

you need to set the registry properties in master/worker/api's appplication.yml,


`please remember change the server-port in appplication.yml`.

NOTE: In production environment, in order to achieve high availability, the master must be an odd number e.g 3 or 5.

properties example
```yaml
registry:
    type: raft
    cluster-name: dolphinscheduler
    server-address-list: 127.0.0.1:8181,127.0.0.1:8182,127.0.0.1:8183
    server-address: 127.0.0.1
    server-port: 8181
    log-storage-dir: raft-data/
```
Among them, the "type" must be set to "raft". The "cluster-name" can be set by yourself or use the default one. The "server-address-list" should be set to all addresses of the cluster. 
The "server-address" is the IP+PORT where the current application is located. The "server-port" is the port listened to by raft (note that this port is different from the port where the application starts and is specially used for communication by the raft cluster). 
The "log-storage-dir" is the storage address of the logs generated by raft.

Then you can start your DolphinScheduler cluster, your cluster will use raft cluster as registry center to
store server metadata.