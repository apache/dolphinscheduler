!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("echarts"));else if("function"==typeof define&&define.amd)define(["echarts"],t);else{var n="object"==typeof exports?t(require("echarts")):t(e.echarts);for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}("undefined"!=typeof self?self:this,function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";t.__esModule=!0;t.init=function(e,t,n,i){var r=function(e){if(!e)return;if("string"==typeof e)if(e.startsWith("#"))e=document.getElementById(e.slice(1));else{if(!e.startsWith("."))return;e=document.getElementsByClassName(e.slice(1))}if(!e)throw new Error("找不到对应的dom对象！");var t=void 0;t=HTMLElement.prototype.isPrototypeOf(e)?new Array(e):Array.from(e);if(!t)throw new Error("未找到对应的dom对象！");return t}(t),a=Object.assign({},{data:n},i),o=r.map(function(t){return new e(t,a)});return 1===o.length?o[0]:o};t.checkKeyInModel=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=n,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var s;if(a){if(o>=r.length)break;s=r[o++]}else{if((o=r.next()).done)break;s=o.value}var l=s;if(!e.hasOwnProperty(l))throw new Error("数据格式错误！未找到指定属性："+l)}}},function(e,t,n){"use strict";t.__esModule=!0;var i=a(n(3)),r=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=n;var o=this.transform();o&&(this.options=o,n.theme?this.echart=i.default.init(t,n.theme):r.default.settings.defaultTheme?this.echart=i.default.init(t,r.default.settings.defaultTheme):this.echart=i.default.init(t),window.addEventListener("resize",function(){return a.echart.resize()}),this.apply())}return e.prototype.setData=function(e){e&&0!==e.length&&(this.settings.data=e,this.options=this.transform(),this.apply())},e.prototype.injectDataIntoSeries=function(e,t){return e.forEach(function(e){if("all"===e.index)delete e.index,t=t.map(function(t){return Object.assign({},t,e)});else if("start"===e.index)delete e.index,t[0]=Object.assign({},t[0],e);else if("end"===e.index)delete e.index,t[t.length-1]=Object.assign({},t[t.length-1],e);else if(Array.isArray(e.index)){var n=e.index,i=Array.isArray(n),r=0;for(n=i?n:n[Symbol.iterator]();;){var a;if(i){if(r>=n.length)break;a=n[r++]}else{if((r=n.next()).done)break;a=r.value}var o=a;t[o]&&(t[o]=Object.assign({},t[o],e))}}}),t},e}();t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.Scatter=t.Funnel=t.Radar=t.Pie=t.Bar=t.Line=void 0;var i=c(n(3)),r=c(n(5)),a=c(n(6)),o=c(n(7)),s=c(n(8)),l=c(n(9)),u=c(n(10)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p={Line:r.default,Bar:a.default,Pie:o.default,Radar:s.default,Funnel:l.default,Scatter:u.default},d={settings:{},config:function(e){var t=e.theme;t&&((0,f.checkKeyInModel)(t,"name","data"),i.default.registerTheme(t.name,t.data),t.default&&(d.settings.defaultTheme=t.name))}},h=function(e){p.hasOwnProperty(e)&&(d[e.toLowerCase()]=function(t,n,i){return(0,f.init)(p[e],t,n,i)})};for(var y in p)h(y);t.Line=r.default,t.Bar=a.default,t.Pie=o.default,t.Radar=s.default,t.Funnel=l.default,t.Scatter=u.default,t.default=d,"undefined"!=typeof window&&(window.Chart=d)},function(t,n){t.exports=e},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i},o=n(0);var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.init=function(e,n,i){return(0,o.init)(t,e,n,i)},t.prototype.transform=function(){var e=this.settings.data,t=void 0===e?[]:e;if(0===t.length)throw new Error("数据源为空！");return Object.keys(t[0]).length>2?this.setMultipleLines():(this.simple=!0,this.setSingleLine())},t.prototype.setSingleLine=function(){var e=this.settings,t=e.data,n=void 0===t?[]:t,i=e.keyMap,r=void 0===i?{xAxisKey:"key",dataKey:"value"}:i,a=e.title,s=void 0===a?"单条折线图":a,l=r.xAxisKey,u=r.dataKey;(0,o.checkKeyInModel)(n[0],l,u);for(var f=[{type:"line",data:[]}],c={type:"category",data:[]},p=0;p<n.length;p++)c.data.push(n[p][l]),f[0].data.push(n[p][u]);return{title:s,xAxis:c,series:f}},t.prototype.setMultipleLines=function(){var e=this.settings,t=e.data,n=void 0===t?[]:t,i=e.keyMap,r=void 0===i?{xAxisKey:"key",legendKey:"typeName",dataKey:"value"}:i,a=e.title,s=void 0===a?"多条折线图":a,l=r.xAxisKey,u=r.legendKey,f=r.dataKey;(0,o.checkKeyInModel)(n[0],l,u,f);for(var c=[],p=[],d={type:"category",data:[]},h=function(e){var t=n[e][u],i=n[e][l],r=n[e][f];c.includes(t)||c.push(t),d.data.includes(i)||d.data.push(i);var a=p.find(function(e){return e.name===t});a||(a={name:t,type:"line",data:[]},p.push(a)),a.data.push(r)},y=0;y<n.length;y++)h(y);return{title:s,xAxis:d,series:p,legendData:c}},t.prototype.apply=function(){var e=this.options,t=e.title,n=e.xAxis,i=e.series,r=e.legendData,a=void 0===r?[]:r,o=this.settings.reverseAxis,s=void 0!==o&&o,l={type:"value"},u=s?n:l,f=s?l:n,c=!t&&this.simple?"3%":60,p=this.settings.insertSeries,d=i;p&&p.length&&i.length&&(d=this.injectDataIntoSeries(p,d)),this.echart.setOption({title:{text:t},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",top:c,containLabel:!0},legend:{data:a},xAxis:f,yAxis:u,series:d},!0)},t}(a.default);t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i},o=n(0);var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.init=function(e,n,i){return(0,o.init)(t,e,n,i)},t.prototype.transform=function(){var e=this.settings.data,t=void 0===e?[]:e;if(0===t.length)throw new Error("数据源为空！");return Object.keys(t[0]).length>2?this.setMultipleBars():(this.simple=!0,this.setSingleBar())},t.prototype.setSingleBar=function(){var e=this.settings,t=e.data,n=void 0===t?[]:t,i=e.keyMap,r=void 0===i?{xAxisKey:"key",dataKey:"value"}:i,a=e.title,s=void 0===a?"单条柱状图":a,l=r.xAxisKey,u=r.dataKey;(0,o.checkKeyInModel)(n[0],l,u);for(var f=[{type:"bar",data:[]}],c={type:"category",data:[]},p=0;p<n.length;p++)c.data.push(n[p][l]),f[0].data.push(n[p][u]);return{title:s,xAxis:c,series:f}},t.prototype.setMultipleBars=function(){var e=this.settings,t=e.data,n=void 0===t?[]:t,i=e.keyMap,r=void 0===i?{xAxisKey:"key",legendKey:"typeName",dataKey:"value"}:i,a=e.title,s=void 0===a?"多条柱状图":a,l=e.lineTypes,u=r.xAxisKey,f=r.legendKey,c=r.dataKey,p=4===Object.keys(n[0]).length,d=r.timelineKey||"timeline";p?(0,o.checkKeyInModel)(n[0],u,f,c,d):(0,o.checkKeyInModel)(n[0],u,f,c);var h=[];l&&(h=Array.isArray(l)?l:[l]);for(var y={timeline:{axisType:"category",autoPlay:!0,playInterval:1e3,data:[]},options:[]},v=[],g=[],b={type:"category",data:[]},m=function(e){var t=n[e][f],i=n[e][u],r=n[e][c];if(v.includes(t)||v.push(t),b.data.includes(i)||b.data.push(i),p){var a=n[e][d];if(y.timeline.data.includes(a)||y.timeline.data.push(a),!g.some(function(e){return e.name===t})){var o="bar";0!==h.length&&h.includes(t)&&(o="line"),g.push({name:t,type:o})}var l=y.options.find(function(e){return e._helpName===a});l||(l={_helpName:a,title:{text:s.replace("$timeline",a)},series:[]},y.options.push(l));var m=l.series.find(function(e){return e._helpName===t});m||(m={_helpName:t,data:[]},l.series.push(m)),m.data.push(r)}else{var x=g.find(function(e){return e.name===t});if(!x){var w="bar";0!==h.length&&h.includes(t)&&(w="line"),x={name:t,type:w,data:[]},g.push(x)}x.data.push(r)}},x=0;x<n.length;x++)m(x);return p?{title:s,xAxis:b,series:g,legendData:v,timelineOptions:y}:{title:s,xAxis:b,series:g,legendData:v}},t.prototype.apply=function(){var e=this.options,t=e.title,n=e.xAxis,i=e.series,r=e.legendData,a=e.timelineOptions,o=this.settings,s=o.reverseAxis,l=void 0!==s&&s,u=o.yAxis,f=o.stack,c={type:"value"},p=l?n:c,d=l?c:n;u&&(p=u),void 0!==f&&f&&i.forEach(function(e){e.stack="总量",e.label={normal:{show:!0,position:l?"insideRight":"insideTop"}}});var h=this.settings.insertSeries,y=i;if(h&&h.length&&i.length&&(y=this.injectDataIntoSeries(h,y)),a)this.echart.setOption({baseOption:{timeline:a.timeline,tooltip:{trigger:"axis"},grid:{top:80,bottom:100,containLabel:!0},legend:{x:"right",data:r},xAxis:d,yAxis:p,series:y},options:a.options},!0);else{var v=!t&&this.simple?"3%":60;this.echart.setOption({title:{text:t},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",top:v,containLabel:!0},legend:{data:r},xAxis:d,yAxis:p,series:y},!0)}},t}(a.default);t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i},o=n(0);function s(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.init=function(e,n,i){return(0,o.init)(t,e,n,i)},t.prototype.transform=function(){var e=this.settings,t=e.data,n=void 0===t?[]:t,i=e.title,r=void 0===i?"饼图":i,a=e.ring,l=void 0!==a&&a,u=e.keyMap,f=void 0===u?{textKey:"key",dataKey:"value"}:u;if(0===n.length)throw new Error("数据源为空！");var c=f.textKey,p=f.dataKey;(0,o.checkKeyInModel)(n[0],c,p);for(var d=[{radius:l?["50%","70%"]:"60%",center:r?["50%","60%"]:["50%","50%"],type:"pie",data:[]}],h=0;h<n.length;h++){var y=n[h],v=y[p],g=y[c],b=s(y,[p,c]),m=Object.assign({value:v,name:g},b,{_raw:y});d[0].data.push(m)}return{title:r,series:d,legendData:[]}},t.prototype.apply=function(){var e=this.options,t=e.title,n=e.series,i=e.legendData,r=this.settings.insertSeries,a=n;r&&r.length&&n.length&&(a=this.injectDataIntoSeries(r,a)),this.echart.setOption({title:{text:t,x:"center"},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:i},series:a},!0)},t}(a.default);t.default=l},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i},o=n(0);var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.init=function(e,n,i){return(0,o.init)(t,e,n,i)},t.prototype.transform=function(){var e=this.settings,t=e.data,n=void 0===t?[]:t,i=e.title,r=void 0===i?"雷达图":i,a=e.keyMap,s=void 0===a?{textKey:"key",legendKey:"typeName",dataKey:"value"}:a;if(0===n.length)throw new Error("数据源为空！");var l=s.textKey,u=s.legendKey,f=s.dataKey;(0,o.checkKeyInModel)(n[0],l,u,f);for(var c=[],p=[],d=[],h=function(e){var t=n[e][u],i=n[e][l],r=n[e][f];c.includes(t)||c.push(t);var a=p.find(function(e){return e.name===t});a||(a={name:t,value:[],_raw:[]},p.push(a)),a.value.push(r),a._raw.push(n[e]),d.find(function(e){return e.name===i})||d.push({name:i})},y=0;y<n.length;y++)h(y);return{title:r,seriesData:p,legendData:c,indicator:d}},t.prototype.apply=function(){var e=this.options,t=e.title,n=e.seriesData,i=e.legendData,r=void 0===i?[]:i,a=e.indicator;this.echart.setOption({title:{text:t},tooltip:{},legend:{data:r},radar:{name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:a},series:[{type:"radar",data:n}]},!0)},t}(a.default);t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i},o=n(0);function s(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.init=function(e,n,i){return(0,o.init)(t,e,n,i)},t.prototype.transform=function(){var e=this.settings,t=e.data,n=void 0===t?[]:t,i=e.title,r=void 0===i?"漏斗图":i,a=e.keyMap,l=void 0===a?{textKey:"key",dataKey:"value"}:a;if(0===n.length)throw new Error("数据源为空！");var u=l.textKey,f=l.dataKey;(0,o.checkKeyInModel)(n[0],u,f);for(var c=[{type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{normal:{show:!0,position:"inside"},emphasis:{textStyle:{fontSize:20}}},labelLine:{normal:{length:10,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}},data:[]}],p=0;p<n.length;p++){var d=n[p],h=d[f],y=d[u],v=s(d,[f,u]),g=Object.assign({value:h,name:y},v,{_raw:d});c[0].data.push(g)}return{title:r,series:c,legendData:[]}},t.prototype.apply=function(){var e=this.options,t=e.title,n=e.series,i=e.legendData,r=this.settings.insertSeries,a=n;r&&r.length&&n.length&&(a=this.injectDataIntoSeries(r,a)),this.echart.setOption({title:{text:t},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}%"},legend:{data:i},series:a},!0)},t}(a.default);t.default=l},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(1),a=(i=r)&&i.__esModule?i:{default:i},o=n(0);var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.init=function(e,n,i){return(0,o.init)(t,e,n,i)},t.prototype.transform=function(){var e=this.settings,t=e.data,n=void 0===t?[]:t,i=e.title,r=void 0===i?"气泡图":i,a=e.keyMap,s=void 0===a?{xKey:"x",yKey:"y",sizeKey:"size",textKey:"text",legendKey:"typeName"}:a;if(0===n.length)throw new Error("数据源为空！");var l=[],u=[],f=s.xKey,c=s.yKey,p=s.sizeKey,d=s.textKey,h=s.legendKey;(0,o.checkKeyInModel)(n[0],f,c,p,d,h);for(var y=function(e){var t=n[e],i=t[h],r=t[f],a=t[c],o=t[p],s=t[d],y=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,[h,f,c,p,d]);l.includes(i)||l.push(i);var v=u.find(function(e){return e.name===i});v||(v={type:"scatter",name:i,data:[],symbolSize:function(e){return Math.sqrt(e[2])},label:{emphasis:{show:!0,formatter:function(e){return e.data[3]},position:"top"}}},u.push(v)),v.data.push(Object.assign({value:[r,a,o,s]},y,{_raw:n[e]}))},v=0;v<n.length;v++)y(v);return{title:r,series:u,legendData:l}},t.prototype.apply=function(){var e=this.options,t=e.title,n=e.series,i=e.legendData,r=void 0===i?[]:i,a=this.settings.insertSeries,o=n;a&&a.length&&n.length&&(o=this.injectDataIntoSeries(a,o)),this.echart.setOption({title:{text:t},legend:{right:10,data:r},xAxis:{},yAxis:{},series:o},!0)},t}(a.default);t.default=s}])});
//# sourceMappingURL=index.js.map